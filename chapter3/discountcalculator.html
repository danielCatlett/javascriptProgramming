<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>While and If</title>
    <script>
        window.alert("Enter the prices of the objects you are buying, and when you are done, enter 0");
        var prices = []; //Array of prices
        var price = acceptInput(price);
        while(price !== 0)
        {
            prices.push(price);
            price = acceptInput();
        }
        var total = 0;
        
        for(i = 0; i < prices.length; i++)
        {
            total += prices[i];
        }
        
        window.alert("Your total before discounts is $" + total);
        var discount = 0;
        //figure out discount here
        if(total > 250)
        {
            window.alert("You have earned a 15% discount");
            discount = 0.15;
        }
        else if(total > 100)
        {
            window.alert("You have earned a 10% discount");
            discount = 0.1;
        }
        else if(total > 50)
        {
            window.alert("You have earned a 5% discount");
            discount = 0.05;
        }
        var finalTotal = total - total * discount;
        window.alert("Which makes your final total $" + finalTotal);
        
        function acceptInput(p)
        {
            p = window.prompt("Enter a price");
            p = errorChecking(parseFloat(p)); //Convert to a number, and then conduct input validation
            return p;
        }
        
        //Input validation function
        function errorChecking(pr)
        {
            while(isNaN(pr) || pr < 0)
            {
                pr = window.prompt("Please enter a valid number");
                pr = parseFloat(pr);
            }
            return pr;
        }
    </script>
</head>
<body>
    <h1>We hope you enjoyed shopping here!</h1>
</body>
</html>